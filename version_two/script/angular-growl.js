angular.module("angular-growl",[]);
angular.module("angular-growl").directive("growl",["$rootScope",function(h){return{restrict:"A",template:'<div class="growl">\t<div class="growl-item alert" ng-repeat="message in messages" ng-class="computeClasses(message)">\t\t<button type="button" class="close" ng-click="deleteMessage(message)">&times;</button>       <div ng-switch="message.enableHtml">           <div ng-switch-when="true" ng-bind-html="message.text"></div>           <div ng-switch-default ng-bind="message.text"></div>       </div>\t</div></div>',replace:!1,
scope:!0,controller:["$scope","$timeout","growl",function(b,d,k){function f(a){b.messages=[];if(0===a.text.length)return b.deleteMessage(a),!1;b.messages.push(a);a.ttl&&-1!==a.ttl&&d(function(){b.deleteMessage(a)},a.ttl)}var l=k.onlyUnique();b.messages=[];h.$on("growlMessage",function(a,m){var e;l?(angular.forEach(b.messages,function(a){m.text===a.text&&m.severity===a.severity&&(e=!0)}),e||f(m)):f(m)});b.deleteMessage=function(a){a=b.messages.indexOf(a);-1<a&&b.messages.splice(a,1)};b.computeClasses=
function(a){return{"alert-success":"success"===a.severity,"alert-error":"error"===a.severity,"alert-danger":"error"===a.severity,"alert-info":"info"===a.severity,"alert-warning":"warn"===a.severity}}}]}}]);
angular.module("angular-growl").provider("growl",function(){var h=null,b=!1,d="messages",k="text",f="severity",l=!0;this.globalTimeToLive=function(a){h=a};this.globalEnableHtml=function(a){b=a};this.messagesKey=function(a){d=a};this.messageTextKey=function(a){k=a};this.messageSeverityKey=function(a){f=a};this.onlyUniqueMessages=function(a){l=a};this.serverMessagesInterceptor=["$q","growl",function(a,b){function e(a){a.data[d]&&0<a.data[d].length&&b.addServerMessages(a.data[d])}function f(a){e(a);
return a}function k(g){e(g);return a.reject(g)}return function(a){return a.then(f,k)}}];this.$get=["$rootScope","$filter",function(a,d){function e(g,c,e){c=c||{};g={text:g,severity:e,ttl:c.ttl||h,enableHtml:c.enableHtml||b};n&&(g.text=n(g.text));a.$broadcast("growlMessage",g)}var n;try{n=d("translate")}catch(p){}return{addWarnMessage:function(a,c){e(a,c,"warn")},addErrorMessage:function(a,c){e(a,c,"error")},addInfoMessage:function(a,c){e(a,c,"info")},addSuccessMessage:function(a,c){e(a,c,"success")},
addServerMessages:function(a){var c,b,d,h;h=a.length;for(c=0;c<h;c++)if(b=a[c],b[k]&&b[f]){switch(b[f]){case "warn":d="warn";break;case "success":d="success";break;case "info":d="info";break;case "error":d="error"}e(b[k],void 0,d)}},onlyUnique:function(){return l}}}]});